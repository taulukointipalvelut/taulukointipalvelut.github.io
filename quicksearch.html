<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"core.js.html":{"id":"core.js.html","title":"Source: core.js","body":" DocStrap Namespaces Tournament.adjudicatorsTournament.adjudicators.resultsTournament.allocationsTournament.debatersTournament.debaters.resultsTournament.institutionsTournament.roundsTournament.teamsTournament.teams.debatersTournament.teams.resultsTournament.venuestournaments Classes Tournament Global Global Source: core.js &quot;use strict&quot;; /** * @module core * @author taulukointipalvelut@gmail.com (nswa17) * @file Interfaces for UTab core. Github Page is [here]{@link https://github.com/taulukointipalvelut/utab-core}. * @version 1.1 * @example * var core = require('./core.js') * * core.tournaments.read().then(console.log) * var t1 = new core.Tournament({id: 1, name: &quot;t1&quot;}) */ let op = require('./src/operations.js') let controllers = require('./src/controllers.js') let _ = require('underscore/underscore.js') /** * Represents a pair/set of teams in a venue. A minimum unit to be an allocation. * @typedef Square * @property {Number} id id of the Square * @property {Number[]} teams teams in the Square * @property {Number[]} chairs chairs in the Square * @property {Number[]} remaining_adjudicators adjudicators(panels) in the Square * @property {Number[]} remaining_adjudicators2 adjudicators(trainees) in the Square * @property {String[]} warnings warnings * @property {Number} venue */ /** * Represents a team. * @typedef Team * @property {Number} id id of the Team * @property {String} name name of the Team * @property {Boolean} available available * @property {String} url url of the Team */ /** * Represents an adjudicator. * @typedef Adjudicator * @property {Number} id id of the Adjudicator * @property {Number} preev pre evaluation(judge test) of the Adjudicator * @property {String} name name of the Adjudicator * @property {Boolean} available available * @property {String} url url of the Adjudicator */ /** * Represents a venue. * @typedef Venue * @property {Number} id id of the Venue * @property {Number} priority priority of the Venue * @property {String} name name of the Venue * @property {Boolean} available available * @property {String} url url of the Venue */ /** * Represents an institution. * @typedef Institution * @property {Number} id id of the Institution * @property {String} name name of the Institution * @property {Boolean} available available * @property {String} url url of the Institution */ /** * Represents raw team result. * @typedef RawTeamResult * @property {Number} id id of the team to evaluate * @property {Number} from_id id of the sender * @property {Number} r round number at which the result is sent * @property {Number} win in NA it's either 1(win) or 0(lose), in BP it's the win-points * @property {Number[]} opponents opponents of the team * @property {String} side side of the team * @example * { * id: 1, * from_id: 2, * r: 1, * win: 1, * opponents: [2], * side: &quot;gov&quot; * } */ /** * Represents raw debater result. * @typedef RawDebaterResult * @property {Number} id id of the debater to evaluate * @property {Number} from_id id of the sender * @property {Number} r round number at which the result is sent * @property {Number[]} scores scores the sender writes * @example * { * id: 1, * from_id: 2, * r: 1, * scores: [75, 0, 36.5] * } */ /** * Represents raw adjudicator result. * @typedef RawAdjudicatorResult * @property {Number} id id of the adjudicator to evaluate * @property {Number} from_id id of the sender * @property {Number} r round number at which the result is sent * @property {Number} score the score of the adjudicator the sender writes * @property {Number[]} watched_teams teams the adjudicator watched * @property {String} [comment] the comment for the adjudicator from the sender */ /** * Represents debate style. * @typedef Style * @property {String} name style name * @property {Number} debater_num_per_team number of debaters per team * @property {Number} team_num number of team in a [Square]{@link Square} * @property {Number[]} score_weights weights of the scores * @property {Number} replies candidates of replies (Necessary only for testing) * @property {Number} reply_num number of replies in a [Square]{@link Square} (Necessary only for testing) * @example * { * name: &quot;ASIAN&quot;, * debater_num_per_team: 3, * team_num: 2, * score_weights: [1, 1, 1, 0.5], * replies: [0, 1], * reply_num: 1 * } */ /** * Represents a tournament. * @typedef TournamentInformation * @property {Number} id id of the tournament * @property {String} name name of the tournament * @property {String} url url of the tournament * @property {Number} current_round_num current round * @property {Number} total_round_num total round * @property {Style} style style of the tournament */ /** * Provides Interfaces related to tournaments * @namespace tournaments */ var tournaments = controllers.tournaments /** * reads all tournaments.//1.1TESTED// * @name tournaments.read * @memberof! tournaments * @function tournaments.read * @return {Promise.&lt;Tournament[]&gt;} */ /** * create a tournament. //1.1TESTED// * @name tournaments.create * @memberof! tournaments * @function tournaments.create * @param tournament * @param {Number} tournament.id tournament id * @param {String} [tournament.tournament.name] tournament name * @param {String} [tournament.url] tournament url * @param {Style} [tournament.style] debating style * @param {Number} [tournament.total_round_num] total round * @param {Number} [tournament.current_round_num] current round(default 1) */ /** * @name tournaments.update * @memberof! tournaments * @function tournaments.update */ /** * @name tournaments.delete * @memberof! tournaments * @function tournaments.delete */ /** * A class to operate a tournament. */ class Tournament { /** * @param {Number} id - Unique ID of the tournament */ constructor (dict) { var con = new controllers.CON(dict) /** * Provides Interfaces related to teams * @memberof Tournament * @namespace Tournament.teams */ this.teams = con.teams /** * returns all teams(No side effect) * @name Tournament.teams.read * @memberof! Tournament.teams * @function Tournament.teams.read * @return {Promise.&lt;Team[]&gt;} Teams */ /** * creates team.//TESTED// * Attention: It throws an error if the specified team already exists. * @name Tournament.teams.create * @memberof! Tournament.teams * @function Tournament.teams.create * @param team * @param {Number} team.id id of the team to create * @param {Number} [team.name=&quot;&quot;] name of the team to create * @param {Number} [team.available=true] id of the team to create * @param {Number} [team.url=&quot;&quot;] id of the team to create * @return {Promise.&lt;Team&gt;} Created team * @throws {Promise} AlreadyExists */ /** * deletes specified team.//TESTED// * Attention: It throws an error if the specified team does not exist. * @name Tournament.teams.delete * @memberof! Tournament.teams * @function Tournament.teams.delete * @param team * @param {Number} team.id id of the team to delete * @return {Promise.&lt;Team&gt;} Deleted team * @throws {Promise} DoesNotExist */ /** * finds on specified condition(No side effect)//TESTED// * @name Tournament.teams.find * @memberof! Tournament.teams * @function Tournament.teams.find * @param team * @param {Number} [team.id] id of the team to find * @param {Number} [team.name] name of the team to find * @param {Number} [team.available] id of the team to find * @param {Number} [team.url] id of the team to find * @return {Promise.&lt;Team[]&gt;} Teams */ /** * updates specified team//TESTED// * Attention: It throws an error if the specified team does not exist. * @name Tournament.teams.update * @memberof! Tournament.teams * @function Tournament.teams.update * @param team * @param {Number} team.id id of the team to update * @param {Number} [team.name=&quot;&quot;] name of the team to update * @param {Number} [team.available=true] id of the team to update * @param {Number} [team.url=&quot;&quot;] id of the team to update * @return {Promise.&lt;Team&gt;} Updated team * @throws DoesNotExist */ /** * @namespace Tournament.teams.results * @memberof Tournament.teams */ /** * reads all raw team results(No side effect) * @name Tournament.teams.results.read * @memberof! Tournament.teams.results * @function Tournament.teams.results.read * @returns {Promise.&lt;RawTeamResult[]&gt;} */ /** * Summarizes team results(No side effect) * @alias Tournament.teams.results.organize * @memberof! Tournament.teams.results * @param {(Number | Number[])} r_or_rs round number(s) used to summarize results * @param options options for summarization * @param {Boolean} options.simple only use team results. No debater results is considered thus unable to output team points * @param {Boolean} options.force if true, it does not check raw results(not recommended) * @return {Promise} summarized team results */ this.teams.results.organize = function(r_or_rs, {simple: simple=false, force: force=false}) { if (simple) { return Promise.all([con.teams.read(), con.teams.results.read()]).then(function (vs) { var [teams, raw_team_results] = vs if (!force) { Array.isArray(r_or_rs) ? r_or_rs.map(r =&gt; op.teams.results.check(raw_team_results, teams, r)) : op.teams.results.check(raw_team_results, teams, r_or_rs) } return Array.isArray(r_or_rs) ? op.results.teams.simplified_compile(teams, raw_team_results, r_or_rs) : op.results.teams.simplified_summarize(teams, raw_team_results, r_or_rs) }) } else { return Promise.all([con.teams.read(), con.teams.debaters.read(), con.teams.debaters.read(), con.teams.results.read(), con.debaters.results.read(), con.teams.debaters.read(), con.rounds.read()]).then(function (vs) { var [teams, debaters, raw_teams_to_debaters, raw_team_results, raw_debater_results, raw_teams_to_debaters, round_info] = vs if (!force) { op.results.precheck(teams, raw_teams_to_debaters, debaters) if (Array.isArray(r_or_rs)) { r_or_rs.map(r =&gt; op.teams.results.check(raw_team_results, teams, r)) r_or_rs.map(r =&gt; op.debaters.results.check(raw_debater_results, debaters, r)) } else { op.teams.results.check(raw_team_results, teams, r_or_rs) op.debaters.results.check(raw_debater_results, debaters, r_or_rs) } } return Array.isArray(r_or_rs) ? op.results.teams.compile(teams, debaters, raw_teams_to_debaters, raw_team_results, raw_debater_results, round_info.style, r_or_rs) : op.results.teams.summarize(teams, debaters, raw_teams_to_debaters, raw_team_results, raw_debater_results, round_info.style, r_or_rs) }) } } /** * Interfaces related to teams to debaters * @namespace Tournament.teams.debaters * @memberof Tournament.teams */ /** * returns teams to debaters(No side effect) * @name Tournament.teams.debaters.read * @memberof! Tournament.teams.debaters * @function Tournament.teams.debaters.read * @return {Promise} Teams to debaters */ /** * sets debaters to a team. * Attention: It throws an error if the specified team has debaters. * @name Tournament.teams.debaters.create * @memberof! Tournament.teams.debaters * @function Tournament.teams.debaters.create * @param dict * @param {Number} dict.id id of the team to set debaters * @param {Number[]} dict.debaters debaters to set * @param {Number} dict.r round where the team has the debaters * @return {Promise} Created team * @throws {Promise} AlreadyExists */ /** * deletes debaters from specified team. * Attention: It throws an error if the specified team does not exist. * @deprecated * @name Tournament.teams.debaters.delete * @memberof! Tournament.teams.debaters * @function Tournament.teams.debaters.delete * @param options * @param {Number} options.id id of the team to delete * @param {Number} options.r round where the team has the debaters * @return {Promise} Team * @throws {Promise} DoesNotExist */ /** * finds on specified condition(No side effect) * @name Tournament.teams.debaters.find * @memberof! Tournament.teams.debaters * @function Tournament.teams.debaters.find * @param options * @param {Number} [options.id] id of the team to delete * @param {Number} [options.r] round where the team has the debaters * @param {Number[]} [options.debaters] debaters * @return {Promise} Teams */ /** * updates debaters of specified team * Attention: It throws an error if the specified team does not exist. * @name Tournament.teams.debaters.update * @memberof! Tournament.teams.debaters * @function Tournament.teams.debaters.update * @param options * @param {Number} options.id id of the team * @param {Number} options.r round where the team has the debaters * @param {Number[]} options.debaters debaters of the team * @return {Promi} Team * @throws DoesNotExist */ /** * Provides interefaces related to teams to institutions */ /** * Provides interfaces related to adjudicators * @namespace Tournament.adjudicators * @memberof Tournament */ this.adjudicators = con.adjudicators /** * @namespace Tournament.adjudicators.results * @memberof Tournament.adjudicators */ /** * Summarizes adjudicator results(No side effect) * @alias Tournament.adjudicators.results.organize * @memberof! Tournament.adjudicators.results * @param {(Number | Number[])} r_or_rs round number(s) used to summarize results * @param options * @param {Boolean} options.force if true, it does not check raw results(not recommended) * @return {Promise} summarized adjudicator results */ this.adjudicators.results.organize = function(r_or_rs, {force: force=false}) { return Promise.all([con.adjudicators.read(), con.adjudicators.results.read()]).then(function(vs) { var [adjudicators, raw_adjudicator_results] = vs if (!force) { Array.isArray(r_or_rs) ? r_or_rs.map(r =&gt; op.adjudicators.results.check(raw_adjudicator_results, r)) : op.adjudicators.results.check(raw_adjudicator_results, r_or_rs) } return Array.isArray(r_or_rs) ? op.results.adjudicators.compile(adjudicators, raw_adjudicator_results, r_or_rs) : op.results.adjudicators.summarize(adjudicators, raw_adjudicator_results, r_or_rs) }) } /** * Interfaces related to tournament operation * @namespace Tournament.rounds * @memberof Tournament */ this.rounds = con.rounds /** * Interfaces related to venues * @namespace Tournament.venues * @memberof Tournament */ this.venues = con.venues /** * Interfaces related to debaters * @namespace Tournament.debaters * @memberof Tournament */ this.debaters = con.debaters /** * Interfaces related to debater results * @namespace Tournament.debaters.results * @memberof Tournament.debaters */ /** * Summarizes debater results(No side effect) * @alias Tournament.debaters.results.organize * @memberof! Tournament.debaters.results * @param {(Number | Number[])} r_or_rs round number(s) used to summarize results * @param options * @param {Boolean} options.force if true, it does not check raw results(not recommended) * @return {Promise} summarized debater results */ this.debaters.results.organize = function(r_or_rs) { return Promise.all([con.debaters.read(), con.debaters.results.read()]).then(function(vs) { var [debaters, raw_debater_results] = vs Array.isArray(r_or_rs) ? r_or_rs.map(r =&gt; op.debaters.results.check(raw_debater_results, debaters, r)) : op.debaters.results.check(raw_debater_results, debaters, r_or_rs) return Array.isArray(r_or_rs) ? op.results.debaters.compile(debaters, raw_debater_results, r_or_rs) : op.results.debaters.summarize(debaters, raw_debater_results, r_or_rs) }) } this.debaters.results.check = undefined /** * Interfaces related to institutions * @namespace Tournament.institutions * @memberof Tournament */ this.institutions = con.institutions /** * Provides interfaces related to allocations * @namespace Tournament.allocations * @memberof Tournament */ this.allocations = { /** * get allocation(No side effect) * @alias Tournament.allocations.get * @memberof! Tournament.allocations * @param options * @param {Boolean} [options.simple=false] Does not use debater results * @param {Boolean} [options.with_venues=false] Allocate venues * @param {Boolean} [options.with_adjudicators=false] Allocate adjudicators * @param {String[]} [options.filters=['by_strength', 'by_side', 'by_past_opponent', 'by_institution']] filters to use on computing team allocation * @param {String[]} [options.adjudicator_filters=['by_bubble', 'by_strength', 'by_attendance', 'by_conflict', 'by_institution', 'by_past']] filters on computing adjudicator allocation * @param {Square[]} [options.allocation] if specified, adjudicator/venue allocation will be created based on the allocation * @param {Boolean} [options.force] if true, it does not check the database before creating matchups. (false recommended) * @return {Promise.&lt;Square[]&gt;} allocation */ get: function({ simple: simple = false, with_venues: with_venues = true, with_adjudicators: with_adjudicators = true, filters: filter_functions_strs=['by_strength', 'by_side', 'by_past_opponent', 'by_institution'], adjudicator_filters: filter_functions_adj_strs=['by_bubble', 'by_strength', 'by_attendance', 'by_conflict', 'by_institution', 'by_past'], allocation: allocation, force: force = false }) { try { var all_filter_functions = op.allocations.teams.functions.read() var [all_filter_functions_adj, all_filter_functions_adj2] = op.allocations.adjudicators.functions.read() var filter_functions = filter_functions_strs.map(f_str =&gt; all_filter_functions[f_str]) var filter_functions_adj = filter_functions_adj_strs.filter(f_str =&gt; all_filter_functions_adj.hasOwnProperty(f_str)).map(f_str =&gt; all_filter_functions_adj[f_str]) var filter_functions_adj2 = filter_functions_adj_strs.filter(f_str =&gt; all_filter_functions_adj2.hasOwnProperty(f_str)).map(f_str =&gt; all_filter_functions_adj2[f_str]) } catch(e) { return Promise.reject(e) } return con.rounds.read().then(function (round_info) { var current_round_num = round_info.current_round_num var considering_rounds = _.range(1, current_round_num) return Promise.all([con.teams.read(), con.adjudicators.read(), con.venues.read(), con.institutions.read(), teams.results.organize(considering_rounds), adjudicators.results.organize(considering_rounds), con.teams.institutions.read(), con.adjudicators.institutions.read(), con.adjudicators.conflicts.read()]).then(function (vs) { var [teams, adjudicators, venues, institutions, compiled_team_results, compiled_adjudicator_results, raw_teams_to_institutions, raw_adjudicators_to_institutions, raw_adjudicators_to_conflicts] = vs if (!force) { op.allocations.precheck(teams, adjudicators, venues, institutions, raw_teams_to_institutions, raw_adjudicators_to_institutions, raw_adjudicators_to_conflicts, round_info.style, current_round_num) } if (allocation) { var new_allocation = op.allocations.deepcopy(allocation) } else { var new_allocation = op.allocations.teams.get(teams, compiled_team_results, raw_teams_to_institutions, filter_functions) } if (with_adjudicators) { new_allocation = op.allocations.adjudicators.get(new_allocation, teams, adjudicators, compiled_team_results, compiled_adjudicator_results, raw_teams_to_institutions, raw_adjudicators_to_institutions, raw_adjudicators_to_conflicts, filter_functions_adj, filter_functions_adj2) } if (with_venues) { new_allocation = op.allocations.venues.get(new_allocation, venues) } return new_allocation }) }) }, /** * checks allocation(No side effect) * @memberof! Tournament.allocations * @function Tournament.allocations.check * @param options * @param {Boolean} [options.check_teams=true] check team allocation * @param {Boolean} [options.check_adjudicators=true] check adjudicator allocation * @param {Boolean} [options.check_venues=true] check venue allocation * @return {Promise.&lt;Square[]&gt;} */ check: function(allocation, { check_teams: check_teams = true, check_adjudicators: check_adjudicators = true, check_venues: check_venues = true }) { return Promise.all([con.teams.read(), con.adjudicators.read(), con.venues.read(), teams.results.organize(considering_rounds), adjudicators.results.organize(considering_rounds), con.teams.institutions.read(), con.adjudicators.institutions.read(), con.adjudicators.conflicts.read()]).then(function (vs) { var [teams, adjudicators, venues, compiled_team_results, compiled_adjudicator_results, teams_to_institutions, adjudicators_to_institutions, adjudicators_to_conflicts] = vs var new_allocation = op.allocations.deepcopy(allocation) if (check_teams) { new_allocation = op.allocations.teams.check(new_allocation, teams, compiled_team_results, teams_to_institutions)/////// } if (check_adjudicators) { new_allocation = op.allocations.adjudicators.check(new_allocation, new_allocation, teams, adjudicators, compiled_team_results, compiled_adjudicator_results, teams_to_institutions, adjudicators_to_institutions, adjudicators_to_conflicts, filter_functions_adj, filter_functions_adj2) } if (check_venues) { new_allocation = op.allocations.venues.check(new_allocation, new_allocation, venues) } return new_allocation }) } } /** * closes connection to the tournament database. * @memberof! Tournament * @function Tournament.close */ this.close = con.close } } exports.tournaments = tournaments exports.Tournament = Tournament × Search results Close "},"global.html":{"id":"global.html","title":"Global","body":" DocStrap Namespaces Tournament.adjudicatorsTournament.adjudicators.resultsTournament.allocationsTournament.debatersTournament.debaters.resultsTournament.institutionsTournament.roundsTournament.teamsTournament.teams.debatersTournament.teams.resultsTournament.venuestournaments Classes Tournament Global Global Global Type Definitions Adjudicator Represents an adjudicator. Properties: Name Type Description id Number id of the Adjudicator preev Number pre evaluation(judge test) of the Adjudicator name String name of the Adjudicator available Boolean available url String url of the Adjudicator Source: core.js, line 39 Institution Represents an institution. Properties: Name Type Description id Number id of the Institution name String name of the Institution available Boolean available url String url of the Institution Source: core.js, line 59 RawAdjudicatorResult Represents raw adjudicator result. Properties: Name Type Argument Description id Number id of the adjudicator to evaluate from_id Number id of the sender r Number round number at which the result is sent score Number the score of the adjudicator the sender writes watched_teams Array.&lt;Number&gt; teams the adjudicator watched comment String &lt;optional&gt; the comment for the adjudicator from the sender Source: core.js, line 104 RawDebaterResult Represents raw debater result. Properties: Name Type Description id Number id of the debater to evaluate from_id Number id of the sender r Number round number at which the result is sent scores Array.&lt;Number&gt; scores the sender writes Source: core.js, line 88 Example { id: 1, from_id: 2, r: 1, scores: [75, 0, 36.5] } RawTeamResult Represents raw team result. Properties: Name Type Description id Number id of the team to evaluate from_id Number id of the sender r Number round number at which the result is sent win Number in NA it's either 1(win) or 0(lose), in BP it's the win-points opponents Array.&lt;Number&gt; opponents of the team side String side of the team Source: core.js, line 68 Example { id: 1, from_id: 2, r: 1, win: 1, opponents: [2], side: &quot;gov&quot; } Square Represents a pair/set of teams in a venue. A minimum unit to be an allocation. Properties: Name Type Description id Number id of the Square teams Array.&lt;Number&gt; teams in the Square chairs Array.&lt;Number&gt; chairs in the Square remaining_adjudicators Array.&lt;Number&gt; adjudicators(panels) in the Square remaining_adjudicators2 Array.&lt;Number&gt; adjudicators(trainees) in the Square warnings Array.&lt;String&gt; warnings venue Number Source: core.js, line 18 Style Represents debate style. Properties: Name Type Description name String style name debater_num_per_team Number number of debaters per team team_num Number number of team in a Square score_weights Array.&lt;Number&gt; weights of the scores replies Number candidates of replies (Necessary only for testing) reply_num Number number of replies in a Square (Necessary only for testing) Source: core.js, line 115 Example { name: &quot;ASIAN&quot;, debater_num_per_team: 3, team_num: 2, score_weights: [1, 1, 1, 0.5], replies: [0, 1], reply_num: 1 } Team Represents a team. Properties: Name Type Description id Number id of the Team name String name of the Team available Boolean available url String url of the Team Source: core.js, line 30 TournamentInformation Represents a tournament. Properties: Name Type Description id Number id of the tournament name String name of the tournament url String url of the tournament current_round_num Number current round total_round_num Number total round style Style style of the tournament Source: core.js, line 135 Venue Represents a venue. Properties: Name Type Description id Number id of the Venue priority Number priority of the Venue name String name of the Venue available Boolean available url String url of the Venue Source: core.js, line 49 × Search results Close "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" DocStrap Namespaces Tournament.adjudicatorsTournament.adjudicators.resultsTournament.allocationsTournament.debatersTournament.debaters.resultsTournament.institutionsTournament.roundsTournament.teamsTournament.teams.debatersTournament.teams.resultsTournament.venuestournaments Classes Tournament Global Global Classes Classes Tournament Namespaces adjudicators results allocations debaters results institutions rounds teams debaters results venues tournaments × Search results Close "},"namespaces.list.html":{"id":"namespaces.list.html","title":"Namespaces","body":" DocStrap Namespaces Tournament.adjudicatorsTournament.adjudicators.resultsTournament.allocationsTournament.debatersTournament.debaters.resultsTournament.institutionsTournament.roundsTournament.teamsTournament.teams.debatersTournament.teams.resultsTournament.venuestournaments Classes Tournament Global Global Namespaces Classes Tournament Namespaces adjudicators results allocations debaters results institutions rounds teams debaters results venues tournaments × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" DocStrap Namespaces Tournament.adjudicatorsTournament.adjudicators.resultsTournament.allocationsTournament.debatersTournament.debaters.resultsTournament.institutionsTournament.roundsTournament.teamsTournament.teams.debatersTournament.teams.resultsTournament.venuestournaments Classes Tournament Global Global Index core.js Interfaces for UTab core. Github Page is here. Version: 1.1 Author: taulukointipalvelut@gmail.com (nswa17) Source: core.js, line 2 Example var core = require('./core.js') core.tournaments.read().then(console.log) var t1 = new core.Tournament({id: 1, name: &quot;t1&quot;}) × Search results Close "},"Tournament.html":{"id":"Tournament.html","title":"Class: Tournament","body":" DocStrap Namespaces Tournament.adjudicatorsTournament.adjudicators.resultsTournament.allocationsTournament.debatersTournament.debaters.resultsTournament.institutionsTournament.roundsTournament.teamsTournament.teams.debatersTournament.teams.resultsTournament.venuestournaments Classes Tournament Global Global Class: Tournament Tournament A class to operate a tournament. new Tournament(id) Parameters: Name Type Description id Number Unique ID of the tournament Source: core.js, line 186 Namespaces adjudicators allocations debaters institutions rounds teams venues Methods .close() closes connection to the tournament database. Source: core.js, line 542 × Search results Close "},"Tournament.adjudicators.html":{"id":"Tournament.adjudicators.html","title":"Namespace: adjudicators","body":" DocStrap Namespaces Tournament.adjudicatorsTournament.adjudicators.resultsTournament.allocationsTournament.debatersTournament.debaters.resultsTournament.institutionsTournament.roundsTournament.teamsTournament.teams.debatersTournament.teams.resultsTournament.venuestournaments Classes Tournament Global Global Namespace: adjudicators Tournament. adjudicators Provides interfaces related to adjudicators Source: core.js, line 372 Namespaces results × Search results Close "},"Tournament.adjudicators.results.html":{"id":"Tournament.adjudicators.results.html","title":"Namespace: results","body":" DocStrap Namespaces Tournament.adjudicatorsTournament.adjudicators.resultsTournament.allocationsTournament.debatersTournament.debaters.resultsTournament.institutionsTournament.roundsTournament.teamsTournament.teams.debatersTournament.teams.resultsTournament.venuestournaments Classes Tournament Global Global Namespace: results Tournament.adjudicators. results Source: core.js, line 378 Methods .organize(r_or_rs, options) Summarizes adjudicator results(No side effect) Parameters: Name Type Description r_or_rs Number | Array.&lt;Number&gt; round number(s) used to summarize results options Properties Name Type Description force Boolean if true, it does not check raw results(not recommended) Source: core.js, line 391 Returns: summarized adjudicator results Type Promise × Search results Close "},"Tournament.allocations.html":{"id":"Tournament.allocations.html","title":"Namespace: allocations","body":" DocStrap Namespaces Tournament.adjudicatorsTournament.adjudicators.resultsTournament.allocationsTournament.debatersTournament.debaters.resultsTournament.institutionsTournament.roundsTournament.teamsTournament.teams.debatersTournament.teams.resultsTournament.venuestournaments Classes Tournament Global Global Namespace: allocations Tournament. allocations Provides interfaces related to allocations Source: core.js, line 447 Methods .check(options) checks allocation(No side effect) Parameters: Name Type Description options Properties Name Type Argument Default Description check_teams Boolean &lt;optional&gt; true check team allocation check_adjudicators Boolean &lt;optional&gt; true check adjudicator allocation check_venues Boolean &lt;optional&gt; true check venue allocation Source: core.js, line 510 Returns: Type Promise.&lt;Array.&lt;Square&gt;&gt; .get(options) get allocation(No side effect) Parameters: Name Type Description options Properties Name Type Argument Default Description simple Boolean &lt;optional&gt; false Does not use debater results with_venues Boolean &lt;optional&gt; false Allocate venues with_adjudicators Boolean &lt;optional&gt; false Allocate adjudicators filters Array.&lt;String&gt; &lt;optional&gt; ['by_strength', 'by_side', 'by_past_opponent', 'by_institution'] filters to use on computing team allocation adjudicator_filters Array.&lt;String&gt; &lt;optional&gt; ['by_bubble', 'by_strength', 'by_attendance', 'by_conflict', 'by_institution', 'by_past'] filters on computing adjudicator allocation allocation Array.&lt;Square&gt; &lt;optional&gt; if specified, adjudicator/venue allocation will be created based on the allocation force Boolean &lt;optional&gt; if true, it does not check the database before creating matchups. (false recommended) Source: core.js, line 467 Returns: allocation Type Promise.&lt;Array.&lt;Square&gt;&gt; × Search results Close "},"Tournament.debaters.html":{"id":"Tournament.debaters.html","title":"Namespace: debaters","body":" DocStrap Namespaces Tournament.adjudicatorsTournament.adjudicators.resultsTournament.allocationsTournament.debatersTournament.debaters.resultsTournament.institutionsTournament.roundsTournament.teamsTournament.teams.debatersTournament.teams.resultsTournament.venuestournaments Classes Tournament Global Global Namespace: debaters Tournament. debaters Interfaces related to debaters Source: core.js, line 412 Namespaces results × Search results Close "},"Tournament.debaters.results.html":{"id":"Tournament.debaters.results.html","title":"Namespace: results","body":" DocStrap Namespaces Tournament.adjudicatorsTournament.adjudicators.resultsTournament.allocationsTournament.debatersTournament.debaters.resultsTournament.institutionsTournament.roundsTournament.teamsTournament.teams.debatersTournament.teams.resultsTournament.venuestournaments Classes Tournament Global Global Namespace: results Tournament.debaters. results Interfaces related to debater results Source: core.js, line 418 Methods .organize(r_or_rs, options) Summarizes debater results(No side effect) Parameters: Name Type Description r_or_rs Number | Array.&lt;Number&gt; round number(s) used to summarize results options Properties Name Type Description force Boolean if true, it does not check raw results(not recommended) Source: core.js, line 432 Returns: summarized debater results Type Promise × Search results Close "},"Tournament.institutions.html":{"id":"Tournament.institutions.html","title":"Namespace: institutions","body":" DocStrap Namespaces Tournament.adjudicatorsTournament.adjudicators.resultsTournament.allocationsTournament.debatersTournament.debaters.resultsTournament.institutionsTournament.roundsTournament.teamsTournament.teams.debatersTournament.teams.resultsTournament.venuestournaments Classes Tournament Global Global Namespace: institutions Tournament. institutions Interfaces related to institutions Source: core.js, line 440 × Search results Close "},"Tournament.rounds.html":{"id":"Tournament.rounds.html","title":"Namespace: rounds","body":" DocStrap Namespaces Tournament.adjudicatorsTournament.adjudicators.resultsTournament.allocationsTournament.debatersTournament.debaters.resultsTournament.institutionsTournament.roundsTournament.teamsTournament.teams.debatersTournament.teams.resultsTournament.venuestournaments Classes Tournament Global Global Namespace: rounds Tournament. rounds Interfaces related to tournament operation Source: core.js, line 400 × Search results Close "},"Tournament.teams.html":{"id":"Tournament.teams.html","title":"Namespace: teams","body":" DocStrap Namespaces Tournament.adjudicatorsTournament.adjudicators.resultsTournament.allocationsTournament.debatersTournament.debaters.resultsTournament.institutionsTournament.roundsTournament.teamsTournament.teams.debatersTournament.teams.resultsTournament.venuestournaments Classes Tournament Global Global Namespace: teams Tournament. teams Provides Interfaces related to teams Source: core.js, line 192 Namespaces debaters results Methods .create(team) creates team.//TESTED//Attention: It throws an error if the specified team already exists. Parameters: Name Type Description team Properties Name Type Argument Default Description id Number id of the team to create name Number &lt;optional&gt; &quot;&quot; name of the team to create available Number &lt;optional&gt; true id of the team to create url Number &lt;optional&gt; &quot;&quot; id of the team to create Source: core.js, line 206 Throws: AlreadyExists Type Promise Returns: Created team Type Promise.&lt;Team&gt; .delete(team) deletes specified team.//TESTED//Attention: It throws an error if the specified team does not exist. Parameters: Name Type Description team Properties Name Type Description id Number id of the team to delete Source: core.js, line 220 Throws: DoesNotExist Type Promise Returns: Deleted team Type Promise.&lt;Team&gt; .find(team) finds on specified condition(No side effect)//TESTED// Parameters: Name Type Description team Properties Name Type Argument Description id Number &lt;optional&gt; id of the team to find name Number &lt;optional&gt; name of the team to find available Number &lt;optional&gt; id of the team to find url Number &lt;optional&gt; id of the team to find Source: core.js, line 231 Returns: Teams Type Promise.&lt;Array.&lt;Team&gt;&gt; .read() returns all teams(No side effect) Source: core.js, line 198 Returns: Teams Type Promise.&lt;Array.&lt;Team&gt;&gt; .update(team) updates specified team//TESTED//Attention: It throws an error if the specified team does not exist. Parameters: Name Type Description team Properties Name Type Argument Default Description id Number id of the team to update name Number &lt;optional&gt; &quot;&quot; name of the team to update available Number &lt;optional&gt; true id of the team to update url Number &lt;optional&gt; &quot;&quot; id of the team to update Source: core.js, line 243 Throws: DoesNotExist Returns: Updated team Type Promise.&lt;Team&gt; × Search results Close "},"Tournament.teams.debaters.html":{"id":"Tournament.teams.debaters.html","title":"Namespace: debaters","body":" DocStrap Namespaces Tournament.adjudicatorsTournament.adjudicators.resultsTournament.allocationsTournament.debatersTournament.debaters.resultsTournament.institutionsTournament.roundsTournament.teamsTournament.teams.debatersTournament.teams.resultsTournament.venuestournaments Classes Tournament Global Global Namespace: debaters Tournament.teams. debaters Interfaces related to teams to debaters Source: core.js, line 305 Methods .create(dict) sets debaters to a team.Attention: It throws an error if the specified team has debaters. Parameters: Name Type Description dict Properties Name Type Description id Number id of the team to set debaters debaters Array.&lt;Number&gt; debaters to set r Number round where the team has the debaters Source: core.js, line 317 Throws: AlreadyExists Type Promise Returns: Created team Type Promise .delete(options) deletes debaters from specified team.Attention: It throws an error if the specified team does not exist. Parameters: Name Type Description options Properties Name Type Description id Number id of the team to delete r Number round where the team has the debaters Deprecated: Yes Source: core.js, line 330 Throws: DoesNotExist Type Promise Returns: Team Type Promise .find(options) finds on specified condition(No side effect) Parameters: Name Type Description options Properties Name Type Argument Description id Number &lt;optional&gt; id of the team to delete r Number &lt;optional&gt; round where the team has the debaters debaters Array.&lt;Number&gt; &lt;optional&gt; debaters Source: core.js, line 343 Returns: Teams Type Promise .read() returns teams to debaters(No side effect) Source: core.js, line 310 Returns: Teams to debaters Type Promise .update(options) updates debaters of specified teamAttention: It throws an error if the specified team does not exist. Parameters: Name Type Description options Properties Name Type Description id Number id of the team r Number round where the team has the debaters debaters Array.&lt;Number&gt; debaters of the team Source: core.js, line 354 Throws: DoesNotExist Returns: Team Type Promi × Search results Close "},"Tournament.teams.results.html":{"id":"Tournament.teams.results.html","title":"Namespace: results","body":" DocStrap Namespaces Tournament.adjudicatorsTournament.adjudicators.resultsTournament.allocationsTournament.debatersTournament.debaters.resultsTournament.institutionsTournament.roundsTournament.teamsTournament.teams.debatersTournament.teams.resultsTournament.venuestournaments Classes Tournament Global Global Namespace: results Tournament.teams. results Source: core.js, line 257 Methods .organize(r_or_rs, options) Summarizes team results(No side effect) Parameters: Name Type Description r_or_rs Number | Array.&lt;Number&gt; round number(s) used to summarize results options options for summarization Properties Name Type Description simple Boolean only use team results. No debater results is considered thus unable to output team points force Boolean if true, it does not check raw results(not recommended) Source: core.js, line 278 Returns: summarized team results Type Promise .read() reads all raw team results(No side effect) Source: core.js, line 261 Returns: Type Promise.&lt;Array.&lt;RawTeamResult&gt;&gt; × Search results Close "},"Tournament.venues.html":{"id":"Tournament.venues.html","title":"Namespace: venues","body":" DocStrap Namespaces Tournament.adjudicatorsTournament.adjudicators.resultsTournament.allocationsTournament.debatersTournament.debaters.resultsTournament.institutionsTournament.roundsTournament.teamsTournament.teams.debatersTournament.teams.resultsTournament.venuestournaments Classes Tournament Global Global Namespace: venues Tournament. venues Interfaces related to venues Source: core.js, line 406 × Search results Close "},"tournaments.html":{"id":"tournaments.html","title":"Namespace: tournaments","body":" DocStrap Namespaces Tournament.adjudicatorsTournament.adjudicators.resultsTournament.allocationsTournament.debatersTournament.debaters.resultsTournament.institutionsTournament.roundsTournament.teamsTournament.teams.debatersTournament.teams.resultsTournament.venuestournaments Classes Tournament Global Global Namespace: tournaments tournaments Provides Interfaces related to tournaments Source: core.js, line 146 Methods .create(tournament) create a tournament. //1.1TESTED// Parameters: Name Type Description tournament Properties Name Type Argument Description id Number tournament id tournament.name String &lt;optional&gt; tournament name url String &lt;optional&gt; tournament url style Style &lt;optional&gt; debating style total_round_num Number &lt;optional&gt; total round current_round_num Number &lt;optional&gt; current round(default 1) Source: core.js, line 158 .delete() Source: core.js, line 176 .read() reads all tournaments.//1.1TESTED// Source: core.js, line 151 Returns: Type Promise.&lt;Array.&lt;Tournament&gt;&gt; .update() Source: core.js, line 171 × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
